{% extends 'base.html' %}
{% load static %}

{% block title %}Registrar Nuevo Usuario - MultiTiendas{% endblock %}
{% block body_class %}admin-dashboard{% endblock %}

{% block content %}
<div class="container mt-4">
    <h2>Registrar Nuevo Usuario (Staff)</h2>

    {% if messages %}
        {% for message in messages %}
            <div class="alert alert-{{ message.tags }}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label>Nombre de Usuario</label>
            <input type="text" name="username" class="form-control" placeholder="Nombre de usuario" required>
        </div>
        <div class="form-group">
            <label>Email</label>
            <input type="email" name="email" class="form-control" placeholder="correo@ejemplo.com" required>
        </div>
        <div class="form-group">
            <label>Contraseña</label>
            <input type="password" name="password" class="form-control" placeholder="Contraseña (mín. 6 caracteres)" required>
        </div>
        <div class="form-group">
            <label>Rol</label>
            <select name="rol" class="form-select" required>
                <option value="">Seleccione un rol</option>
                {% for rol in roles %}
                    <option value="{{ rol }}">{{ rol }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">✅ Registrar Usuario</button>
        <a href="{% url 'admin_gestion_usuarios' %}" class="btn btn-secondary">Volver</a>
    </form>
</div>
{% endblock %}